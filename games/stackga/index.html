<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>ìŒ“ê¸°ê²Œì„</title>
  <link rel="icon" href="data:," />
  <link rel="stylesheet" href="./css/game.css" />
</head>
<body>
  <div class="wrap">
    <!-- ìƒë‹¨ íƒ€ì´í‹€/ì—°ê²°ë°” ì œê±°: ê²Œì„ í™”ë©´ë§Œ -->

    <section class="panel gamePanel" id="game">
      <div class="hud" id="hud">
        <div class="hudLeft">
          <div>ì ìˆ˜: <b id="score">0</b></div>
          <div>ë ˆë²¨: <b id="level">1</b></div>
          <div>ëª¨ë“œ: <b id="mode">-</b></div>
        </div>
        <div class="hudRight">
          <button class="iconBtn" id="btnSound" aria-label="ì†Œë¦¬">ğŸ”Š</button>
          <button class="iconBtn matchBtn" id="btnMatch" aria-label="ë§¤ì¹­">ë§¤ì¹­</button>
          <button class="iconBtn" id="btnFull" aria-label="ì „ì²´í™”ë©´">â›¶</button>
        </div>
      </div>

      <div class="playShell" id="playShell">
        <!-- ë‚´ ê²Œì„ í™”ë©´: ì¢Œì¸¡ì— ë”± ë¶™ìŒ -->
        <div class="cardBox boardCard" id="boardCol" aria-label="me">
          <canvas id="cvMe" width="360" height="720"></canvas>
        </div>

        <!-- ë‚¨ëŠ” ê³µê°„: ìƒë‹¨ NEXT, ì•„ë˜ ìƒëŒ€ í™”ë©´(ë³´ë“œë§Œ) -->
        <div class="sideCol" id="sideCol" aria-label="side">
          <div class="cardBox nextCard" id="nextCard" aria-label="next">
            <div class="cardTag">NEXT</div>
            <canvas id="cvNext" width="120" height="120"></canvas>
          </div>
          <div class="cardBox oppCard" id="oppCard" aria-label="opponent">
            <!-- ìš”ì²­: ë¼ë²¨ì€ ì¹´ë“œ ë‚´ë¶€ ì¢Œì¸¡ ìƒë‹¨ (NEXTì™€ ë™ì¼í•œ ìŠ¤íƒ€ì¼) -->
            <div class="cardTag" id="oppTag">Player</div>
            <canvas id="cvOpp" width="120" height="240"></canvas>
          </div>
          <!-- ì½¤ë³´: ì¹´ë“œ(ë„¤ëª¨ì¹¸) ì—†ì´ ë¹ˆ ê³µê°„ì— í…ìŠ¤íŠ¸ë§Œ í‘œì‹œ -->
          <div class="comboArea" id="comboArea" aria-label="combo">
            <div class="comboNum" id="comboNum">0</div>
            <div class="comboTxt">Combo!</div>
          </div>
        </div>

        <!-- ì˜¤ë²„ë ˆì´(ëŒ€ê¸°/ê²°ê³¼) -->
        <div class="overlay hidden" id="overlay">
          <div class="overlayCard">
            <div class="big" id="overlayTitle">ëŒ€ê¸°â€¦</div>
            <div class="small" id="overlayDesc"></div>
            <div class="row" id="overlayBtns">
              <button class="btn" id="btnStartCpu">PCì™€ ì‹œì‘</button>
              <button class="btn ghost" id="btnRestart">ë‹¤ì‹œ ë§Œë“¤ê¸°</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div id="log" class="hidden"></div>
  </div>

  <script type="module" src="./js/main.js"></script>

<script>
(function(){
  const sp=new URLSearchParams(location.search);
  if(sp.get("embed")==="1"){
    // Let the parent know what game this is (used by bridge)
    if(!sp.get("embedGame")){
      sp.set("embedGame","stackga");
      const u=location.pathname+"?"+sp.toString();
      history.replaceState(null,"",u);
    }
    // Hide standalone UI bits
    const mb=document.getElementById("match-btn"); if(mb) mb.style.display="none";
    const ov=document.getElementById("net-overlay"); if(ov) ov.style.display="none";
  }
})();
</script>
</body>
</html>
